# LUT Launcher プラグイン 要件定義書

## 1. プロジェクト概要

### プラグイン名
GLAZE（LUT Launcher）

### 目的
Photoshopでの写真現像ワークフローを効率化するため、LUT（Look-Up Table）ファイルを活用したカラーグレーディングプロセスを自動化・簡素化する。

### 対象ユーザー
- フォトグラファー
- デザイナー
- 写真現像・カラーグレーディングを行うクリエイター
- フィルム風加工を好むユーザー

## 2. 機能要件

### 2.1 コア機能

#### A. 新規LUTテンプレート作成機能
**機能概要**: CUBEファイルを含むフォルダを選択し、各LUTファイルに対応するカラールックアップ調整レイヤーを含むテンプレートドキュメントを自動生成

**詳細仕様**:
- フォルダ選択ダイアログの表示
- 選択フォルダ内の.cubeファイルの自動検出
- 800×800pxの新規ドキュメント作成
- 各CUBEファイル名に基づいたカラールックアップ調整レイヤーの作成
- レイヤー名は.cube拡張子を除いたファイル名

**入力**: フォルダパス（.cubeファイル含む）
**出力**: LUT調整レイヤーを含むPSDテンプレート

#### B. 写真へのLUT適用機能
**機能概要**: 作成済みテンプレートPSDから調整レイヤーを現在開いている写真ドキュメントに複製適用

**詳細仕様**:
- アクティブドキュメントの存在チェック
- テンプレートPSDファイル選択
- テンプレート内の全調整レイヤー（ColorLookup）の検出
- 調整レイヤーの写真ドキュメントへの一括複製
- テンプレートドキュメントの自動クローズ

**入力**: テンプレートPSDファイル + アクティブな写真ドキュメント
**出力**: LUT調整レイヤーが適用された写真

#### C. フィルムエミュレーション機能
**機能概要**: フィルム風の色調効果を現在の写真に適用

**詳細仕様**:
- カラーバランス調整レイヤーの作成
- "Film Emulation"レイヤー名での追加
- アクティブドキュメントへの即座適用

**入力**: アクティブな写真ドキュメント
**出力**: フィルム風調整レイヤーが追加された写真

### 2.2 UI/UX要件

#### パネル仕様
- サイズ: 272×430px
- 最小サイズ: 272×430px（リサイズ不可）
- レイアウト: 垂直配置
- テーマ: ダークUI（Photoshop準拠）

#### UI要素
1. **ヘッダー**
   - GLAZEロゴ + LUTアイコン
   - ブランディング要素

2. **メイン操作ボタン（3つ）**
   - 新規 LUT テンプレート作成
   - ファイルへLUTレイヤー適用  
   - Filmレイヤー適用

3. **ステータス表示エリア**
   - 操作結果・進行状況の表示

## 3. 技術要件

### 3.1 開発環境
- **プラットフォーム**: Adobe UXP (Unified Extensibility Platform)
- **対応アプリケーション**: Adobe Photoshop 26.0.0以降
- **言語**: JavaScript (ES6+), HTML5, CSS3
- **マニフェストバージョン**: 4

### 3.2 依存関係・API
- `uxp.storage.localFileSystem` - ファイル・フォルダ操作
- `photoshop.app` - ドキュメント操作
- `photoshop.core` - モーダル実行
- `photoshop.action` - BatchPlay API
- `photoshop.constants` - 定数値

### 3.3 ファイル構成
```
my-lut-plugin/
├── manifest.json          # プラグイン設定
├── index.html             # メインUI
├── main.js                # JavaScript機能
├── style.css              # スタイルシート
└── assets/
    └── icons/
        └── lut-icon.png   # プラグインアイコン
```

## 4. 非機能要件

### 4.1 パフォーマンス
- LUT適用処理: 3秒以内
- テンプレート作成: フォルダ内ファイル数に依存（目安：10ファイル/10秒）
- UI応答性: 即座（100ms以内）

### 4.2 可用性
- エラーハンドリング: 全操作でtry-catch実装
- ユーザーフィードバック: アラート・ステータス表示
- 操作確認: 重要操作での確認ダイアログ

### 4.3 互換性
- Photoshop CC 2023以降
- Windows 10/11, macOS 10.15以降
- .cube形式LUTファイル対応

## 5. ワークフロー

### 5.1 基本的な使用手順
1. **準備段階**: LUT(.cube)ファイルをフォルダに整理
2. **テンプレート作成**: 「新規 LUT テンプレート作成」でPSDテンプレート生成
3. **写真現像**: 写真を開き「ファイルへLUTレイヤー適用」で一括適用
4. **追加調整**: 必要に応じて「Filmレイヤー適用」で質感調整

### 5.2 想定ユースケース
- **バッチ現像**: 複数写真への統一LUT適用
- **プリセット管理**: よく使うLUT組み合わせのテンプレート化
- **クイック補正**: フィルム風エフェクトの即座適用

## 6. 制約・前提条件

### 6.1 技術的制約
- UXPセキュリティモデルによるファイルアクセス制限
- BatchPlay APIでの低レベル操作が必要
- Photoshopのモーダル実行要件

### 6.2 ユーザー前提
- Photoshopの基本操作知識
- LUTファイルの概念理解
- 調整レイヤーの基本理解

## 7. 今後の拡張可能性

### 7.1 短期的改善
- LUTプレビュー機能
- お気に入りLUT管理
- カスタムフィルムエフェクト

### 7.2 長期的発展
- クラウドLUTライブラリ連携
- AI推奨LUT機能
- 他Adobe製品との連携

## 8. 成功指標

### 8.1 機能面
- LUT適用成功率: 99%以上
- エラー発生率: 1%未満
- 処理速度: 要件内完了率95%以上

### 8.2 ユーザビリティ
- 操作直感性: ユーザーテストでの成功率90%以上
- 学習コストの低減: 初回使用での完了率80%以上