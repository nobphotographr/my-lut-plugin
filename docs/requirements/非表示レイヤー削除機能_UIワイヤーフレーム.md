# 非表示レイヤー削除機能 UIワイヤーフレーム

**文書番号**: WF-004  
**作成日**: 2025-06-08  
**関連要件**: REQ-004  
**対象機能**: 非表示レイヤー削除ボタン  

## メインパネル レイアウト

### 現在の構成
```
┌─────────────────────────────┐
│         GLAZEロゴ            │
├─────────────────────────────┤
│ 新規 LUT テンプレート作成    │
├─────────────────────────────┤
│ ファイルへLUTレイヤー適用    │
├─────────────────────────────┤
│ Filmレイヤー適用            │
├─────────────────────────────┤
│        ステータス表示        │
└─────────────────────────────┘
```

### 変更後の構成
```
┌─────────────────────────────┐
│         GLAZEロゴ            │
├─────────────────────────────┤
│ 新規 LUT テンプレート作成    │
├─────────────────────────────┤
│ ファイルへLUTレイヤー適用    │
├─────────────────────────────┤
│ Filmレイヤー適用            │
├─────────────────────────────┤
│ 非表示レイヤー削除          │  ← 新規追加
├─────────────────────────────┤
│        ステータス表示        │
└─────────────────────────────┘
```

## ボタン仕様

### HTML構造
```html
<button id="deleteHiddenLayersBtn" class="panel-button">非表示レイヤー削除</button>
```

### 追加位置
- **ファイル**: `index.html`
- **行数**: 13行目の後（`applyFilmBtn`の次）
- **スタイルクラス**: `panel-button`（既存ボタンと統一）

### ボタンサイズ
- **幅**: 272px（既存ボタンと同じ）
- **高さ**: 40px（既存ボタンと同じ）
- **マージン**: 下28px（既存ボタンと同じ）

## 確認ダイアログ ワイヤーフレーム

### 基本確認ダイアログ（Phase 1）
```
┌─────────────────────────────────┐
│         非表示レイヤー削除       │
├─────────────────────────────────┤
│                                │
│  削除対象: X個のレイヤー         │
│                                │
│  ⚠️ この操作は取り消せません     │
│                                │
│     [キャンセル]  [削除実行]     │
└─────────────────────────────────┘
```

### 詳細確認ダイアログ（Phase 2）
```
┌─────────────────────────────────┐
│         非表示レイヤー削除       │
├─────────────────────────────────┤
│  削除対象: X個のレイヤー         │
│                                │
│  □ 調整レイヤーのみ              │
│  □ 通常レイヤーのみ              │
│  ☑ すべての非表示レイヤー        │
│                                │
│  削除予定レイヤー:               │
│  ・Layer 1                     │
│  ・Layer 2                     │
│  ・Layer 3                     │
│                                │
│  ⚠️ この操作は取り消せません     │
│                                │
│     [キャンセル]  [削除実行]     │
└─────────────────────────────────┘
```

### 処理進行表示（Phase 3）
```
┌─────────────────────────────────┐
│      非表示レイヤー削除中        │
├─────────────────────────────────┤
│                                │
│  ████████████░░░░  75%         │
│                                │
│  処理中: Layer Name...          │
│                                │
│  削除済み: 3/4 レイヤー          │
│                                │
└─────────────────────────────────┘
```

## CSS仕様

### 新規ボタンのスタイル
既存の`.panel-button`クラスを使用（追加CSS不要）

```css
#initialPanel .panel-button {
  width: 272px;
  height: 40px;
  margin-bottom: 28px;
  background-color: rgb(60, 60, 60);
  border: 1px solid rgb(82, 82, 82);
  border-radius: 6px;
  font-family: "Hiragino Kaku Gothic Pro", "ヒラギノ角ゴ Pro W3", sans-serif;
  font-size: 15px;
  color: white;
  cursor: pointer;
  transition: background-color 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
}
```

### 確認ダイアログのスタイル
既存の`dialog`スタイルを継承

```css
dialog {
  background: #3d3d3d;
  border: none;
  border-radius: 4px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.5);
  color: #fff;
  padding: 20px;
  max-width: 450px;
  width: 90%;
}
```

## インタラクション仕様

### ボタンクリック時の動作
1. ドキュメント開封状況確認
2. 非表示レイヤー検出・カウント
3. 確認ダイアログ表示
4. ユーザー確認後、削除実行

### ホバー効果
```css
#deleteHiddenLayersBtn:hover {
  background-color: rgb(82, 82, 82);
}

#deleteHiddenLayersBtn:active {
  background-color: rgb(50, 50, 50);
}
```

## アクセシビリティ

### フォーカス管理
- キーボードナビゲーション対応
- Tab順序: 上から下へ順次移動
- Enterキーでボタン実行

### スクリーンリーダー対応
```html
<button id="deleteHiddenLayersBtn" 
        class="panel-button" 
        aria-label="非表示レイヤーを一括削除">
  非表示レイヤー削除
</button>
```

## レスポンシブ対応

### パネル幅調整
- 最大幅: 352px（既存仕様に準拠）
- 最小幅: 272px（ボタン幅に合わせて）
- ボタン間の余白: 一定に保持

---

*このワイヤーフレームはREQ-004要件定義書およびPLAN-004実装計画書に基づいて作成されています。*